<!DOCTYPE html>
<html lang="en"><head>
	<title>Locator by minerstat</title>
	<meta name="description" content="Minerstat is number-one tool to monitor and manage your crypto mining operation of any size. Includes auto-profit switching and Watchdog swift system alerting.">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="robots" content="noindex">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="style/style-light.css"/>
</head>
<body><div id="frame">
	<div class="header">
		<div class="logo"></div>
		
		<div class="icons">
			<div data-tooltip="Close" class="icon close"></div>
			<div data-tooltip="Minimize" class="icon minimize"></div>
			<a onclick="shell.openExternal('https://minerstat.com/software/locator')" data-tooltip="Website" class="icon info"></a>
		</div>		
	</div>
	<div class="content">
		<div id="step1" class="content_frame" style="display:block;">
			<div class="title">Welcome to Locator</div>
			<p>Locator was brought to you by minerstat to quickly find all of the ASICs connected to your local network.</p>

			<div id="start" class="button">Start</div>
			
			<div class="progress">
				<div class="step selected"></div>
				<div class="step"></div>
				<div class="step"></div>
				<div class="step"></div>
			</div>		
		</div>
		<div id="step2" class="content_frame" style="display:none;">
			<div class="title">Network address</div>
			<p>Enter the network address of your IP in the input fields.</p>	
			<div class="ip_ranges">
				<input id="block8"  type="text" maxlength="3" value="192">
				<label>.</label>
				<input id="block16" type="text" maxlength="3" value="168">
				<label>.</label>
				<input id="block24" type="text"maxlength="3" value="0">
				<label>.</label>
				<input id="block32" type="text" disabled="disabled" value="X">
			</div>
			
			<div id="continue" class="button">Continue</div>
			
			<div class="progress">
				<div class="step finished"></div>
				<div class="step selected"></div>
				<div class="step"></div>
				<div class="step"></div>
			</div>		
		</div>
		<div id="step3" class="content_frame" style="display:none;">
			<div class="title">Searching...</div>
			<p>Locator is searching for computers on the network. Please wait, this could take a few minutes.</p>
			
			<div class="locating_animation">
				<div class="pulse_1"></div>
				<div class="pulse_2"></div>
				<div class="pulse_3"></div>
				<div class="pulse_4"></div>
			</div>
			
			<div class="progress">
				<div class="step finished"></div>
				<div class="step finished"></div>
				<div class="step selected"></div>
				<div class="step"></div>
			</div>		
		</div>
		<div id="step4" class="content_frame" style="display:none;">
			<div class="title">Finished</div>
			<p>Locator found <b id="numDevices">0 devices</b> on your network. <span id="hideOnNull">You can export them as JSON file and import them to <a href="https://my.minerstat.com">your minerstat dashboard</a> as workers.</span></p>
			
			<div id="export" class="button">Try Again</div>
			
			<div id="scanAgain" class="small" style="display:none">Scan again</div>
			
			<div class="progress">
				<div class="step finished"></div>
				<div class="step finished"></div>
				<div class="step finished"></div>
				<div class="step selected"></div>
			</div>		
		</div>
	</div>
	
	<script>
	if (typeof module === 'object') {window.module = module; module = undefined;}
	var Export = 0;
    var ipArr = [],
    ExportArr = [];
    const internalIp = require('internal-ip');
    var IP_PART1 = "192",
	IP_PART2 = "168",
	IP_PART3 = "0";
	internalIp.v4().then(ip => {
    console.log(ip);
    //=> '10.0.0.79'
    var IP = ip.split(".");
    IP_PART1 = IP[0];
    IP_PART2 = IP[1];
	IP_PART3 = IP[2];
	console.log(IP[0]);
	});
	</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="../frontend.js"></script>
    <script src="../backend.js"></script>
</div></body>
</html>
